{% extends "paginas_post_venta/base/main.html" %}
{% block contenido %}
{% load static %}
<div class="main_contenededor poppins">
	<br><br><br><br>
	<h1 class="aligncenter decoracion_linea text-white">Envio Anexo Boleta.</h1>
	<br><br><br>
		<!--<input type="text" class="form-control tamfuente22" name="q" id="id_buscar5" placeholder="Escriba el Rut de la petición a buscar...">
		<button class="btn btn-lg btn-primary btn-block" id="bton_buscar3" onclick="revision_search()" type="button">Buscar</button>
		<div id="error_msg5" class="aligncenter text-white"></div>
		<br><br>
		<div id="tabla_revision_cli">
			<h2 class="text-white">Datos del Cliente:</h2>
			<br>
			<table class="table table-striped dt-responsive nowrap table-bordered" id="tabla_cliente">
					<thead>
						<tr>
							<th scope="col">Rut</th>
							<th scope="col">Nombre Cliente</th>
							<th scope="col">Número telefono</th>
							<th scope="col">Email</th>
							<th scope="col">Dirección</th>
						</tr>
					</thead>
					<tbody>
					</tbody>
			</table>
			<br>
			<div id="error_msg2" class="aligncenter"></div>
			<div id="tabla_Boletas_cd">
				<h2 class="text-white">Boletas:</h2>
				<br>
				<table class="table table-striped dt-responsive nowrap table-bordered" id="tabla_revision_boleta">
					<thead>
						<tr>
							<th scope="col">Mostrar Productos</th>
							<th scope="col">Número Boleta</th>
							<th scope="col">Fecha</th>
							<th scope="col">Total boleta anterior</th>
							<th scope="col">Monto Final boleta</th>
							<th scope="col">Monto a Devolver</th>
						</tr>
					</thead>
					<tbody>
					</tbody>
				</table>
			</div>
			<div id="tabla_revision_productos_mostrar">
				<h2 class="text-white">Productos de Boleta en proceso de devolución:</h2>
				<br>
				<table class="table table-striped dt-responsive nowrap table-bordered" id="tabla_revision_prod">
					<thead>
						<tr>
							<th scope="col">Producto</th>
							<th scope="col">Precio c/u.</th>
							<th scope="col">Cantidad</th>
						</tr>
					</thead>
					<tbody>
					</tbody>
				</table>			
				<br>
				<br>
			</div>
		</div>
		<br><br>-->
		<h2 class="text-white">Enviar Anexo Boleta:</h2>
		<br>
		<div class="container">
			<div class="row mt-3">
				<div class="col">
					<form class="form text-white" id="myForm">
						<label for="Rut" class="aligncenter">Rut:</label>
						<div class="form-group">
							<input type="text" name="rut" id="rut"><br>
						</div>
						<label for="nombre_cl" class="aligncenter">Nombre Cliente:</label>
						<div class="form-group">
							<input type="text" name="nombre_cl" id="nombre_cl"><br>
						</div>
						<label for="num_telf" class="aligncenter">Teléfono:</label>
						<div class="form-group">
							<input type="number" name="num_telf" id="num_telf"><br>
						</div>
						<label for="email" class="aligncenter">Email:</label>
						<div class="form-group">
							<input type="email" name="email" id="email"><br>
						</div>
						<label for="direccion" class="aligncenter">Dirección:</label>
						<div class="form-group">
							<input type="text" name="direccion" id="direccion"><br>
						</div>
						<label for="total" class="aligncenter">Total antes devolución:</label>
						<div class="form-group">
							<input type="number" name="total" id="total"><br>
						</div>
						<label for="total_dev" class="aligncenter">Monto a devolver:</label>
						<div class="form-group">
							<input type="number" name="total_dev" id="total_dev"><br>
						</div>
						<label for="monto_dev" class="aligncenter">Monto boleta tras devolucion:</label>
						<div class="form-group">
							<input type="number" name="monto_dev" id="monto_dev"><br>
						</div>                                                                                                                        
						<br>
						<button class="btn btn-primary bton_color2"type="submit">Enviar</button>
					</form>
					<br><br>
				</div>
			</div>
		</div>	
		<script>
			const myForm = document.getElementById('myForm');

			myForm.addEventListener('submit', function (e){
				e.preventDefault();

				const formData = new FormData(this);
				fetch("http://35.171.203.143/AnexoBoleta/",{
				method: 'POST',
	  			body: formData,
				}).then(function (response){
					return response.text();
				}).then(function (text){
					console.log(text);
				}).catch(function(error){
					console.error(error);
				})			
			});
		</script>
	</div>
</div>

{% endblock contenido %}